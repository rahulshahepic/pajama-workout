<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Pajama Workout</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    min-height: 100vh;
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    color: #e8e8e8;
    transition: background 0.6s ease;
    padding: 20px;
    position: relative;
    overflow-x: hidden;
    background: #1a2332;
  }
  #glow {
    position: absolute; top: 25%; left: 50%;
    transform: translate(-50%, -50%);
    width: 300px; height: 300px; border-radius: 50%;
    filter: blur(80px); pointer-events: none;
    transition: background 0.6s ease;
    background: rgba(78,205,196,0.25);
  }
  #pbar { position: fixed; top:0; left:0; right:0; height:3px; background: rgba(255,255,255,0.05); z-index:10; }
  #pfill { height:100%; width:0%; transition: width 1s linear, background 0.6s ease; background: #4ECDC4; }
  #sec { font-size:11px; letter-spacing:4px; text-transform:uppercase; color:rgba(255,255,255,0.35); margin-bottom:6px; z-index:1; }
  #cnt { font-size:11px; letter-spacing:2px; color:rgba(255,255,255,0.3); margin-bottom:20px; z-index:1; }
  #tc { position:relative; margin-bottom:20px; z-index:1; }
  #td {
    position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
    font-size:60px; font-weight:700; line-height:1;
    transition: color 0.6s ease;
    font-variant-numeric: tabular-nums;
    color: rgba(255,255,255,0.6);
    font-family: 'Courier New', Courier, monospace;
  }
  #dc { font-size:64px; margin-bottom:20px; z-index:1; display:none; color:#A8D08D; }
  #en { font-size:22px; font-weight:600; margin-bottom:10px; z-index:1; text-align:center; transition: color 0.3s ease; color:rgba(255,255,255,0.8); }
  #tp { font-size:14px; color:rgba(255,255,255,0.4); margin-bottom:36px; z-index:1; text-align:center; max-width:280px; line-height:1.5; }
  #ct { display:flex; gap:12px; z-index:1; flex-wrap:wrap; justify-content:center; }
  .b {
    padding:14px 36px; font-size:15px; font-weight:600; border-radius:8px;
    cursor:pointer; letter-spacing:1px; border:1px solid;
    font-family: 'Courier New', Courier, monospace;
    -webkit-tap-highlight-color: transparent;
  }
  .bp { background:rgba(78,205,196,0.15); color:#4ECDC4; border-color:rgba(78,205,196,0.3); }
  .bpa { background:rgba(108,99,255,0.15); color:#8B85FF; border-color:rgba(108,99,255,0.3); }
  .br { background:rgba(255,255,255,0.05); color:rgba(255,255,255,0.4); border-color:rgba(255,255,255,0.1); }
  #upc { margin-top:32px; z-index:1; width:100%; max-width:280px; display:none; }
  #upl { font-size:10px; letter-spacing:3px; color:rgba(255,255,255,0.2); margin-bottom:8px; text-transform:uppercase; }
  .ui { display:flex; justify-content:space-between; padding:5px 0; font-size:13px; }
  .ur { color:rgba(255,255,255,0.15); }
  .uw { color:rgba(255,255,255,0.3); }
</style>
</head>
<body>
<div id="glow"></div>
<div id="pbar"><div id="pfill"></div></div>
<div id="sec">Ready</div>
<div id="cnt">10 min · 5 exercises · 10 stretches</div>
<div id="tc">
  <svg width="260" height="260" viewBox="0 0 260 260">
    <circle cx="130" cy="130" r="110" fill="none" stroke="rgba(255,255,255,0.06)" stroke-width="4"/>
    <circle id="rng" cx="130" cy="130" r="110" fill="none" stroke="#4ECDC4" stroke-width="4"
      stroke-linecap="round" stroke-dasharray="691.15" stroke-dashoffset="691.15"
      transform="rotate(-90 130 130)" style="transition:stroke-dashoffset 1s linear, stroke 0.6s ease"/>
  </svg>
  <div id="td">0:40</div>
</div>
<div id="dc">&#10003;</div>
<div id="en">Pajama Workout</div>
<div id="tp">5 min workout + 5 min stretch</div>
<div id="ct">
  <button class="b bp" id="bs" onclick="go()">START</button>
  <button class="b bpa" id="bpp" onclick="pau()" style="display:none">PAUSE</button>
  <button class="b bp" id="bre" onclick="res()" style="display:none">RESUME</button>
  <button class="b br" id="brs" onclick="rst()" style="display:none">RESET</button>
</div>
<div id="upc"><div id="upl">Up next</div><div id="ul"></div></div>

<script>
var P=[
{n:"Squats",t:"work",d:40,h:"Slow & controlled, not too deep"},
{n:"Rest",t:"rest",d:20,h:"Shake it out"},
{n:"Push-ups",t:"work",d:40,h:"Knees down is fine — go slow"},
{n:"Rest",t:"rest",d:20,h:"Shake it out"},
{n:"Dead Bugs",t:"work",d:40,h:"On your back, opposite arm & leg"},
{n:"Rest",t:"rest",d:20,h:"Shake it out"},
{n:"Reverse Lunges",t:"work",d:40,h:"Alternate legs, hold counter if needed"},
{n:"Rest",t:"rest",d:20,h:"Shake it out"},
{n:"Plank",t:"work",d:40,h:"Knees down when you need to"},
{n:"Rest",t:"rest",d:20,h:"Nice work — stretches next"},
{n:"Quad Stretch — L",t:"stretch",d:25,h:"Grab foot behind you, hold the counter"},
{n:"Quad Stretch — R",t:"stretch",d:25,h:"Same thing, other side"},
{n:"Hip Flexor — L",t:"stretch",d:30,h:"Half-kneeling, push hips forward"},
{n:"Hip Flexor — R",t:"stretch",d:30,h:"This is the money stretch"},
{n:"Chest Stretch",t:"stretch",d:30,h:"Forearm on doorframe, lean through"},
{n:"Figure Four — L",t:"stretch",d:30,h:"On your back, ankle over knee, pull in"},
{n:"Figure Four — R",t:"stretch",d:30,h:"Breathe into it"},
{n:"Spinal Twist — L",t:"stretch",d:25,h:"Knees to one side, arms out"},
{n:"Spinal Twist — R",t:"stretch",d:25,h:"Let gravity do the work"},
{n:"Child's Pose",t:"stretch",d:50,h:"The day is over. You showed up."}
];
var C={work:{bg:"#1a2332",a:"#4ECDC4",g:"rgba(78,205,196,0.25)",x:"#4ECDC4"},rest:{bg:"#1a1a2e",a:"#6C63FF",g:"rgba(108,99,255,0.2)",x:"#8B85FF"},stretch:{bg:"#1a2118",a:"#A8D08D",g:"rgba(168,208,141,0.15)",x:"#A8D08D"}};
var CI=2*Math.PI*110,TT=0,st="idle",pi=0,tl=P[0].d,te=0,iv=null,ac=null;
for(var i=0;i<P.length;i++)TT+=P[i].d;

function fm(s){return Math.floor(s/60)+":"+String(s%60).padStart(2,"0")}
function bk(f,du,c){try{if(!ac)ac=new(window.AudioContext||window.webkitAudioContext)();for(var i=0;i<c;i++){var o=ac.createOscillator(),g=ac.createGain();o.connect(g);g.connect(ac.destination);o.frequency.value=f;o.type="sine";g.gain.value=0.15;var t=ac.currentTime+i*0.2;o.start(t);g.gain.exponentialRampToValueAtTime(0.001,t+du/1000);o.stop(t+du/1000)}}catch(e){}}
function sc(t){var c=C[t];document.body.style.background=c.bg;document.getElementById("glow").style.background=c.g;document.getElementById("rng").setAttribute("stroke",c.a);document.getElementById("td").style.color=c.x;document.getElementById("en").style.color=c.x;document.getElementById("pfill").style.background=c.a}
function uu(){var e=document.getElementById("upc"),l=document.getElementById("ul");if(st!="running"&&st!="paused"){e.style.display="none";return}e.style.display="block";l.innerHTML="";var u=P.slice(pi+1,pi+4);for(var i=0;i<u.length;i++){var d=document.createElement("div");d.className="ui "+(u[i].t=="rest"?"ur":"uw");d.innerHTML="<span>"+(u[i].t=="rest"?"— rest —":u[i].n)+"</span><span style='opacity:0.6'>"+u[i].d+"s</span>";l.appendChild(d)}}
function gl(){var p=P[pi];if(p.t=="work"||p.t=="rest")return"Exercise "+(Math.floor(pi/2)+1)+" of 5";return"Stretch "+(pi-10+1)+" of 10"}
function rn(){var p=P[pi],pr=(p.d-tl)/p.d,of=CI*(1-pr);document.getElementById("rng").setAttribute("stroke-dashoffset",of);document.getElementById("td").textContent=fm(tl);document.getElementById("pfill").style.width=(te/TT*100)+"%";document.getElementById("sec").textContent=pi<10?"Workout":"Stretches";document.getElementById("cnt").textContent=gl();document.getElementById("en").textContent=p.n;document.getElementById("tp").textContent=p.h;uu()}
function dn(){document.body.style.background="#0f1a0f";document.getElementById("glow").style.background="rgba(168,208,141,0.08)";document.getElementById("tc").style.display="none";document.getElementById("dc").style.display="block";document.getElementById("sec").textContent="Complete";document.getElementById("cnt").textContent="";document.getElementById("en").textContent="All done.";document.getElementById("en").style.color="#A8D08D";document.getElementById("tp").textContent="10 minutes. 5 nights a week. That's it.";document.getElementById("pfill").style.width="100%";document.getElementById("pfill").style.background="#A8D08D";document.getElementById("upc").style.display="none";sb("done")}
function sb(s){document.getElementById("bs").style.display=(s=="idle"||s=="done")?"inline-block":"none";document.getElementById("bs").textContent=s=="done"?"AGAIN":"START";document.getElementById("bpp").style.display=s=="running"?"inline-block":"none";document.getElementById("bre").style.display=s=="paused"?"inline-block":"none";document.getElementById("brs").style.display=s=="paused"?"inline-block":"none"}
function tk(){if(tl<=1){te++;var ni=pi+1;if(ni>=P.length){clearInterval(iv);st="done";bk(880,200,3);dn();return}var pv=P[pi];pi=ni;var nx=P[pi];tl=nx.d;if(nx.t!=pv.t)bk(770,150,2);else bk(660,100,1);sc(nx.t);rn();return}tl--;te++;if(tl<=3)bk(550,80,1);rn()}
function go(){if(st=="idle"||st=="done"){pi=0;tl=P[0].d;te=0;document.getElementById("tc").style.display="block";document.getElementById("dc").style.display="none"}st="running";sc(P[pi].t);rn();sb("running");bk(660,100,1);clearInterval(iv);iv=setInterval(tk,1000)}
function pau(){st="paused";clearInterval(iv);sb("paused")}
function res(){st="running";sb("running");clearInterval(iv);iv=setInterval(tk,1000)}
function rst(){clearInterval(iv);st="idle";pi=0;tl=P[0].d;te=0;document.body.style.background="#1a2332";document.getElementById("glow").style.background="rgba(78,205,196,0.25)";document.getElementById("rng").setAttribute("stroke-dashoffset",CI);document.getElementById("rng").setAttribute("stroke","#4ECDC4");document.getElementById("td").style.color="rgba(255,255,255,0.6)";document.getElementById("td").textContent=fm(P[0].d);document.getElementById("pfill").style.width="0%";document.getElementById("sec").textContent="Ready";document.getElementById("cnt").textContent="10 min \xB7 5 exercises \xB7 10 stretches";document.getElementById("en").textContent="Pajama Workout";document.getElementById("en").style.color="rgba(255,255,255,0.8)";document.getElementById("tp").textContent="5 min workout + 5 min stretch";document.getElementById("tc").style.display="block";document.getElementById("dc").style.display="none";document.getElementById("upc").style.display="none";sb("idle")}
</script>
</body>
</html>
